(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["sub_pages/pages/identity_id_photo/identity_id_photo"],{82:function(e,n,t){"use strict";(function(e,n){var a=t(4);t(26);a(t(25));var o=a(t(83));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t(1)["default"],t(2)["createPage"])},83:function(e,n,t){"use strict";t.r(n);var a=t(84),o=t(86);for(var i in o)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(i);t(88);var c,s=t(32),r=Object(s["default"])(o["default"],a["render"],a["staticRenderFns"],!1,null,"4da68e5c",null,!1,a["components"],c);r.options.__file="sub_pages/pages/identity_id_photo/identity_id_photo.vue",n["default"]=r.exports},84:function(e,n,t){"use strict";t.r(n);var a=t(85);t.d(n,"render",(function(){return a["render"]})),t.d(n,"staticRenderFns",(function(){return a["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return a["recyclableRender"]})),t.d(n,"components",(function(){return a["components"]}))},85:function(e,n,t){"use strict";var a;t.r(n),t.d(n,"render",(function(){return o})),t.d(n,"staticRenderFns",(function(){return c})),t.d(n,"recyclableRender",(function(){return i})),t.d(n,"components",(function(){return a}));try{a={uniEasyinput:function(){return t.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(t.bind(null,167))},uniDataCheckbox:function(){return Promise.all([t.e("common/vendor"),t.e("uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox")]).then(t.bind(null,148))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,n=e.$createElement;e._self._c},i=!1,c=[];o._withStripped=!0},86:function(e,n,t){"use strict";t.r(n);var a=t(87),o=t.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(i);n["default"]=o.a},87:function(e,n,t){"use strict";(function(e){var a=t(4);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(t(39)),i=a(t(41)),c=t(42),s={data:function(){return{userAgreement:[0],agreement:[{text:"我已同意并接受《用户服务协议》及《隐私政策》",value:0}],arrlength:1,firstUpLoad:!0,tempFilePathFace:"",tempFilePathNational:"",idInfo:{userNo:"",idName:"",idNumber:"",addr:"",backFlag:!1,faceFlag:!1}}},onLoad:function(e){this.idInfo.userNo=e.userNo,e.userName&&(this.idInfo.idName=e.userName,this.idInfo.idNumber=e.credNo,this.firstUpLoad=!1),console.log(e)},methods:{changeAgreement:function(e){console.log(e),console.log(e.detail.data.length),this.arrlength=e.detail.data.length},showPrivary:function(){e.showLoading({title:"加载中",mask:!0}),e.downloadFile({url:"https://pass.jysc.sh.cn/AppFiles/005newPrivacy.pdf",success:function(n){var t=n.tempFilePath;n.statusCode;e.openDocument({filePath:t,success:function(n){e.hideLoading()},fail:function(n){e.hideLoading()}})},fail:function(n){e.hideLoading(),e.showModal({title:"fail",content:n})}})},upLoadImg:function(n){var t=this;return(0,i.default)(o.default.mark((function a(){var i;return o.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(2!=n||""!=t.idInfo.idNumber){a.next=4;break}e.showModal({title:"请先上传人像面",content:"",showCancel:!0,success:function(e){e.confirm,e.cancel}}),a.next=9;break;case 4:return a.next=6,(0,c.upLoadPic)();case 6:i=a.sent,1==n?t.tempFilePathFace=i.tempFilePaths[0]:2==n&&(t.tempFilePathNational=i.tempFilePaths[0]),e.uploadFile({url:"https://pass.jysc.sh.cn/App/OCR",filePath:1==n?t.tempFilePathFace:t.tempFilePathNational,name:1==n?"back":"front"+t.idInfo.idNumber,success:function(a){var o=a.statusCode,i=a.data;try{if(200==o){var c=JSON.parse(i);if(console.log(c),0!=c.Code){switch(n){case 1:t.tempFilePathFace="";break;case 2:t.tempFilePathNational="";break}e.showModal({title:"Fail:"+c.Code,content:c.Message,showCancel:!0,success:function(e){e.confirm,e.cancel}})}else 1==n?(t.idInfo.idName=c.Data.name,t.idInfo.idNumber=c.Data.credNo,t.idInfo.addr=c.Data.addr,t.idInfo.faceFlag=!0,console.log(t.idInfo)):2==n&&(t.idInfo.backFlag=!0)}else{switch(n){case 1:t.tempFilePathFace="";break;case 2:t.tempFilePathNational="";break}e.showModal({title:"Fail",content:"网络异常:"+o,showCancel:!0,success:function(e){e.confirm,e.cancel}})}}catch(s){console.log("出错了"),e.showModal({title:"出错了",content:s,showCancel:!0,success:function(e){e.confirm,e.cancel}})}},fail:function(e){console.log(e)}});case 9:case"end":return a.stop()}}),a)})))()},onSubmit:function(){var n=this;return(0,i.default)(o.default.mark((function t(){var a,i;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(n.idInfo),1!=n.arrlength){t.next=14;break}if(!n.idInfo.faceFlag||!n.idInfo.backFlag){t.next=11;break}return t.next=5,(0,c.saveRealName)(n.idInfo.userNo,n.idInfo.idNumber,n.idInfo.idName,n.idInfo.addr);case 5:a=t.sent,i=a.data,console.log(i),0==i.Code?e.showModal({title:"成功",content:i.Message,showCancel:!0,success:function(e){e.confirm,e.cancel}}):e.showModal({title:"Fail:"+i.Code,content:i.Message,showCancel:!0,success:function(e){e.confirm,e.cancel}}),t.next=12;break;case 11:e.showModal({title:"上传失败",content:"请上传所有图片",showCancel:!0,success:function(e){e.confirm,e.cancel}});case 12:t.next=15;break;case 14:e.showModal({title:"fail",content:"请先勾选用户协议"});case 15:case"end":return t.stop()}}),t)})))()}}};n.default=s}).call(this,t(2)["default"])},88:function(e,n,t){"use strict";t.r(n);var a=t(89),o=t.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(i);n["default"]=o.a},89:function(e,n,t){}},[[82,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/sub_pages/pages/identity_id_photo/identity_id_photo.js.map